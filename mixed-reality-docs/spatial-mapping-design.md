---
title: 공간 매핑 디자인
description: HoloLens 내에서 공간 매핑을 효과적으로 사용 하려면 많은 요소를 신중 하 게 고려해 야 합니다.
author: cre8ivepark
ms.author: dongpark
ms.date: 03/21/2018
ms.topic: article
keywords: Windows Mixed Reality, 디자인, 공간 매핑, HoloLens, surface 재구성, 메시
ms.openlocfilehash: 02e64727f9a23bea28e018d7c4e5a8b89c152447
ms.sourcegitcommit: 60f73ca23023c17c1da833c83d2a02f4dcc4d17b
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/17/2019
ms.locfileid: "69566014"
---
# <a name="spatial-mapping-design"></a><span data-ttu-id="03ebe-104">공간 매핑 디자인</span><span class="sxs-lookup"><span data-stu-id="03ebe-104">Spatial mapping design</span></span>

<span data-ttu-id="03ebe-105">HoloLens 내에서 공간 매핑을 효과적으로 사용 하려면 많은 요소를 신중 하 게 고려해 야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-105">Effective use of spatial mapping within HoloLens requires careful consideration of many factors.</span></span>

## <a name="device-support"></a><span data-ttu-id="03ebe-106">장치 지원</span><span class="sxs-lookup"><span data-stu-id="03ebe-106">Device support</span></span>

<table>
    <colgroup>
    <col width="33%" />
    <col width="33%" />
    <col width="33%" />
    </colgroup>
    <tr>
        <td><span data-ttu-id="03ebe-107"><strong>기능</strong></span><span class="sxs-lookup"><span data-stu-id="03ebe-107"><strong>Feature</strong></span></span></td>
        <td><span data-ttu-id="03ebe-108"><a href="hololens-hardware-details.md"><strong>HoloLens</strong></a></span><span class="sxs-lookup"><span data-stu-id="03ebe-108"><a href="hololens-hardware-details.md"><strong>HoloLens</strong></a></span></span></td>
        <td><span data-ttu-id="03ebe-109"><a href="immersive-headset-hardware-details.md"><strong>몰입형 헤드셋</strong></a></span><span class="sxs-lookup"><span data-stu-id="03ebe-109"><a href="immersive-headset-hardware-details.md"><strong>Immersive headsets</strong></a></span></span></td>
    </tr>
     <tr>
        <td><span data-ttu-id="03ebe-110">공간 매핑 디자인</span><span class="sxs-lookup"><span data-stu-id="03ebe-110">Spatial mapping design</span></span></td>
        <td><span data-ttu-id="03ebe-111">✔️</span><span class="sxs-lookup"><span data-stu-id="03ebe-111">✔️</span></span></td>
        <td><span data-ttu-id="03ebe-112">❌</span><span class="sxs-lookup"><span data-stu-id="03ebe-112">❌</span></span></td>
    </tr>
</table>

## <a name="why-is-spatial-mapping-important"></a><span data-ttu-id="03ebe-113">공간 매핑이 중요 한 이유는 무엇 인가요?</span><span class="sxs-lookup"><span data-stu-id="03ebe-113">Why is spatial mapping important?</span></span>

<span data-ttu-id="03ebe-114">공간 매핑을 사용 하면 개체를 실제 표면에 삽입할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-114">Spatial mapping makes it possible to place objects on real surfaces.</span></span> <span data-ttu-id="03ebe-115">이렇게 하면 사용자의 세계에서 개체를 고정 하 고 실제 깊이 있는 큐를 활용할 수 있습니다. 다른 holograms 및 실제 개체를 기반으로 하는 holograms를 Occluding 사용자는 이러한 holograms 실제로 공간에 있음을 사용자에 게 유도할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-115">This helps anchor objects in the user's world and takes advantage of real world depth cues. Occluding your holograms based on other holograms and real world objects helps convince the user that these holograms are actually in their space.</span></span> <span data-ttu-id="03ebe-116">공간에서 부동 Holograms 사용자로 이동 하는 것은 실제로 생각 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-116">Holograms floating in space or moving with the user will not feel as real.</span></span> <span data-ttu-id="03ebe-117">가능 하면 편안 하 게 항목을 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-117">When possible, place items for comfort.</span></span>

<span data-ttu-id="03ebe-118">Holograms를 배치 하거나 이동할 때 화면을 시각화 합니다 (단순한 투영 그리드 사용).</span><span class="sxs-lookup"><span data-stu-id="03ebe-118">Visualize surfaces when placing or moving holograms (use a simple projected grid).</span></span> <span data-ttu-id="03ebe-119">이렇게 하면 사용자가 holograms를 가장 잘 저장할 수 있는 위치를 알 수 있으며, 홀로그램을 원하는 지점이 아직 매핑되지 않은 경우 사용자를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-119">This will help the user know where they can best place their holograms, and shows the user if the spot they are trying to place the hologram hasn't been mapped yet.</span></span> <span data-ttu-id="03ebe-120">사용자가 너무 많은 각도를 종료 하는 경우 사용자에 게 "항목을" 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-120">You can "billboard items" toward the user if they end up at too much of an angle.</span></span>

## <a name="what-influences-spatial-mapping-quality"></a><span data-ttu-id="03ebe-121">공간 매핑 품질에 영향을 주는 것은 무엇 인가요?</span><span class="sxs-lookup"><span data-stu-id="03ebe-121">What influences spatial mapping quality?</span></span>

<span data-ttu-id="03ebe-122">[여기](environment-considerations-for-hololens.md)에서 자세히 설명 하는 몇 가지 요소는 이러한 오류의 빈도 및 심각도에 영향을 줄 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-122">Several factors, detailed [here](environment-considerations-for-hololens.md), can affect the frequency and severity of these errors.</span></span>  <span data-ttu-id="03ebe-123">그러나 공간 매핑 데이터에 오류가 있는 경우에도 사용자가 목표를 달성할 수 있도록 응용 프로그램을 디자인 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-123">However, you should design your application so that the user is able to achieve their goals even in the presence of errors in the spatial mapping data.</span></span>

## <a name="the-environment-scanning-experience"></a><span data-ttu-id="03ebe-124">환경 검사 환경</span><span class="sxs-lookup"><span data-stu-id="03ebe-124">The environment scanning experience</span></span>

<span data-ttu-id="03ebe-125">공간 매핑을 사용 하는 각 응용 프로그램은 ' 스캔 환경 '을 제공 하는 것을 고려해 야 합니다. 응용 프로그램에서 응용 프로그램이 제대로 작동 하는 데 필요한 표면을 검색 하는 데 사용 하는 프로세스입니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-125">Each application that uses spatial mapping should consider providing a 'scanning experience'; the process through which the application guides the user to scan surfaces that are necessary for the application to function correctly.</span></span>

<span data-ttu-id="03ebe-126">![검색 예제](images/sr-mixedworld-140429-8pm-00068-1000px.png)</span><span class="sxs-lookup"><span data-stu-id="03ebe-126">![Example of scanning](images/sr-mixedworld-140429-8pm-00068-1000px.png)</span></span><br>
<span data-ttu-id="03ebe-127">*검색 예제*</span><span class="sxs-lookup"><span data-stu-id="03ebe-127">*Example of scanning*</span></span>

<span data-ttu-id="03ebe-128">이러한 검색 환경의 특성은 각 응용 프로그램의 요구 사항에 따라 크게 다를 수 있지만 두 가지 주요 원칙에 따라 디자인을 안내 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-128">The nature of this scanning experience can vary greatly depending upon each application's needs, but two main principles should guide its design.</span></span>

<span data-ttu-id="03ebe-129">첫째, **사용자와의 통신을 명확 하 게 하는 것이 중요**합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-129">Firstly, **clear communication with the user is the primary concern**.</span></span> <span data-ttu-id="03ebe-130">사용자는 항상 응용 프로그램의 요구 사항을 충족 하는지 여부를 알고 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-130">The user should always be aware of whether the application's requirements are being met.</span></span> <span data-ttu-id="03ebe-131">이러한 것이 충족 되지 않으면 사용자에 게 즉시 명확 하 게 표시 되어야 하며, 적절 한 조치를 취하는 데 신속 하 게 발생 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-131">When they are not being met, it should be immediately clear to the user why this is so and they should be quickly led to take the appropriate action.</span></span>

<span data-ttu-id="03ebe-132">둘째, **응용 프로그램은 효율성과 안정성 간의 균형**을 유지 하려고 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-132">Secondly, **applications should attempt to strike a balance between efficiency and reliability**.</span></span> <span data-ttu-id="03ebe-133">**안정적**으로 수행할 수 있는 경우 응용 프로그램은 공간 매핑 데이터를 자동으로 분석 하 여 사용자 시간을 저장 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-133">When it is possible to do so **reliably**, applications should automatically analyze spatial mapping data to save the user time.</span></span> <span data-ttu-id="03ebe-134">안정적으로 수행할 수 없는 경우 응용 프로그램은 사용자가 응용 프로그램에 필요한 추가 정보를 신속 하 게 제공할 수 있도록 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-134">When it is not possible to do so reliably, applications should instead enable the user to quickly provide the application with the additional information it requires.</span></span>

<span data-ttu-id="03ebe-135">적절 한 검색 환경을 디자인 하는 데 도움이 되도록 응용 프로그램에 적용할 수 있는 다음 가능성을 고려 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-135">To help design the right scanning experience, consider which of the following possibilities are applicable to your application:</span></span>

* <span data-ttu-id="03ebe-136">**검색 환경 없음**</span><span class="sxs-lookup"><span data-stu-id="03ebe-136">**No scanning experience**</span></span>
   * <span data-ttu-id="03ebe-137">응용 프로그램은 단계별 검사 환경을 사용 하지 않고 완벽 하 게 작동할 수 있습니다. 자연 스러운 사용자 이동 과정에서 관찰 되는 표면에 대해 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-137">An application may function perfectly without any guided scanning experience; it will learn about surfaces that are observed in the course of natural user movement.</span></span>
   * <span data-ttu-id="03ebe-138">예를 들어 사용자가 holographic 스프레이 그림판을 사용 하 여 표면에 그릴 수 있도록 하는 응용 프로그램에는 현재 사용자에 게 표시 되는 표면에 대 한 정보만 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-138">For example an application that lets the user draw on surfaces with holographic spray paint requires knowledge only of the surfaces currently visible to the user.</span></span>
   * <span data-ttu-id="03ebe-139">사용자가 HoloLens를 사용 하 여 이미 많은 시간을 소비한 경우 환경을 완전히 검색할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-139">The environment may be completely scanned already if it is one in which the user has already spent a lot of time using the HoloLens.</span></span>
   * <span data-ttu-id="03ebe-140">그러나 공간 매핑에 사용 되는 카메라는 사용자 앞에 3.1 m만 표시 될 수 있으므로 사용자가 이전 보다 더 가까운 거리에서 관찰 한 경우를 제외 하 고 공간 매핑은 더 멀리 떨어져 있는 표면을 인식 하지 못합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-140">Bear in mind however that the camera used by spatial mapping can only see 3.1m in front of the user, so spatial mapping will not know about any more distant surfaces unless the user has observed them from a closer distance in the past.</span></span>
   * <span data-ttu-id="03ebe-141">사용자가 검색 된 표면을 이해 하는 경우 응용 프로그램은 이러한 효과에 대 한 시각적 피드백을 제공 해야 합니다. 예를 들어 스캔 된 표면에 가상 그림자를 캐스팅 하면 사용자가 해당 화면에 holograms 하는 데 도움이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-141">So the user understands which surfaces have been scanned, the application should provide visual feedback to this effect, for example casting virtual shadows onto scanned surfaces may help the user place holograms on those surfaces.</span></span>
   * <span data-ttu-id="03ebe-142">이 경우 공간 표면 관찰자의 경계 볼륨은 사용자를 따르기 위해 각 프레임을 본문 잠김 [공간 좌표계](coordinate-systems.md)로 업데이트 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-142">For this case, the spatial surface observer's bounding volumes should be updated each frame to a body-locked [spatial coordinate system](coordinate-systems.md), so that they follow the user.</span></span>

* <span data-ttu-id="03ebe-143">**적절 한 위치 찾기**</span><span class="sxs-lookup"><span data-stu-id="03ebe-143">**Find a suitable location**</span></span>
   * <span data-ttu-id="03ebe-144">응용 프로그램은 특정 요구 사항이 있는 위치에서 사용 하도록 디자인 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-144">An application may be designed for use in a location with specific requirements.</span></span>
   * <span data-ttu-id="03ebe-145">예를 들어 응용 프로그램은 holographic kung-fu를 안전 하 게 연습 하기 위해 사용자에 게 빈 영역을 요구할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-145">For example, the application may require an empty area around the user so they can safely practice holographic kung-fu.</span></span>
   * <span data-ttu-id="03ebe-146">응용 프로그램은 사용자에 게 모든 특정 요구 사항을 알리고 명확한 시각적 피드백을 통해 보강 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-146">Applications should communicate any specific requirements to the user up-front, and reinforce them with clear visual feedback.</span></span>
   * <span data-ttu-id="03ebe-147">이 예제에서 응용 프로그램은 필요한 빈 영역의 범위를 시각화 하 고이 영역 내에서 원치 않는 개체가 있는지 시각적으로 강조 표시 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-147">In this example, the application should visualize the extent of the required empty area and visually highlight the presence of any undesired objects within this zone.</span></span>
   * <span data-ttu-id="03ebe-148">이 경우 공간 표면 관찰자의 경계 볼륨은 선택한 위치에서 세계에서 잠긴 [공간 좌표계](coordinate-systems.md) 를 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-148">For this case, the spatial surface observer's bounding volumes should use a world-locked [spatial coordinate system](coordinate-systems.md) in the chosen location.</span></span>

* <span data-ttu-id="03ebe-149">**적절 한 화면 구성 찾기**</span><span class="sxs-lookup"><span data-stu-id="03ebe-149">**Find a suitable configuration of surfaces**</span></span>
   * <span data-ttu-id="03ebe-150">응용 프로그램에는 특정 화면 구성 (예: 두 개의 크고 플랫, 반대 벽)이 필요 하 여 holographic 홀을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-150">An application may require a specific configuration of surfaces, for example two large, flat, opposing walls to create a holographic hall of mirrors.</span></span>
   * <span data-ttu-id="03ebe-151">이러한 경우 응용 프로그램은 공간 매핑에서 제공 되는 표면을 분석 하 여 적절 한 표면을 검색 하 고 사용자에 게 전달 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-151">In such cases the application will need to analyze the surfaces provided by spatial mapping to detect suitable surfaces, and direct the user toward them.</span></span>
   * <span data-ttu-id="03ebe-152">응용 프로그램의 surface 분석을 완전히 신뢰할 수 없는 경우 사용자에 게 대체 (fallback) 옵션이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-152">The user should have a fallback option if the application's surface analysis is not completely reliable.</span></span> <span data-ttu-id="03ebe-153">예를 들어 응용 프로그램이 이르는 길를 플랫 벽으로 잘못 식별 하는 경우 사용자에 게이 오류를 수정 하는 간단한 방법이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-153">For example, if the application incorrectly identifies a doorway as a flat wall, the user needs a simple way to correct this error.</span></span>

* <span data-ttu-id="03ebe-154">**환경의 일부를 검색 합니다.**</span><span class="sxs-lookup"><span data-stu-id="03ebe-154">**Scan part of the environment**</span></span>
   * <span data-ttu-id="03ebe-155">응용 프로그램은 사용자의 지시에 따라 환경의 일부만 캡처할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-155">An application may wish to only capture part of the environment, as directed by the user.</span></span>
   * <span data-ttu-id="03ebe-156">예를 들어 응용 프로그램은 대화방의 일부를 검사 하 여 판매 하려는 가구에 대해 holographic 분류 된 광고를 게시할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-156">For example, the application scans part of a room so the user may post a holographic classified ad for furniture they wish to sell.</span></span>
   * <span data-ttu-id="03ebe-157">이 경우 응용 프로그램은 검색 하는 동안 사용자가 관찰 한 지역 내에서 공간 매핑 데이터를 캡처해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-157">In this case, the application should capture spatial mapping data within the regions observed by the user during their scan.</span></span>

* <span data-ttu-id="03ebe-158">**전체 대화방 스캔**</span><span class="sxs-lookup"><span data-stu-id="03ebe-158">**Scan the whole room**</span></span>
   * <span data-ttu-id="03ebe-159">응용 프로그램을 사용 하려면 사용자 뒤의 모든 화면을 포함 하 여 현재 대화방의 모든 화면을 검색 해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-159">An application may require a scan of all of the surfaces in the current room, including those behind the user.</span></span>
   * <span data-ttu-id="03ebe-160">예를 들어 게임에서 사용자가 Gulliver의 역할을 할 수 있습니다 .이는 모든 방향에서 가장 적은 수의 Lilliputians에 대 한 공 성함입니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-160">For example, a game may put the user in the role of Gulliver, under siege from hundreds of tiny Lilliputians approaching from all directions.</span></span>
   * <span data-ttu-id="03ebe-161">이러한 경우 응용 프로그램은 현재 방에서 이미 검색 된 표면의 수를 확인 하 고, 사용자의 응시를 통해 상당한 격차를 채우도록 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-161">In such cases, the application will need to determine how many of the surfaces in the current room have already been scanned, and direct the user's gaze to fill in significant gaps.</span></span>
   * <span data-ttu-id="03ebe-162">이 프로세스의 핵심은 아직 검색 되지 않은 화면을 사용자에 게 명확 하 게 표시 하는 시각적 피드백을 제공 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-162">The key to this process is providing visual feedback that makes it clear to the user which surfaces have not yet been scanned.</span></span> <span data-ttu-id="03ebe-163">응용 프로그램에서는 [거리 기반 안개](https://msdn.microsoft.com/library/windows/desktop/bb173401%28v=vs.85%29.aspx) 를 사용 하 여 공간 매핑 화면에서 다루지 않는 영역을 시각적으로 강조 표시할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-163">The application could for example use [distance-based fog](https://msdn.microsoft.com/library/windows/desktop/bb173401%28v=vs.85%29.aspx) to visually highlight regions that are not covered by spatial mapping surfaces.</span></span>

* <span data-ttu-id="03ebe-164">**환경에 대 한 초기 스냅숏 만들기**</span><span class="sxs-lookup"><span data-stu-id="03ebe-164">**Take an initial snapshot of the environment**</span></span>
   * <span data-ttu-id="03ebe-165">응용 프로그램은 초기 ' 스냅숏 '을 수행한 후 환경의 모든 변경 내용을 무시 하려고 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-165">An application may wish to ignore all changes in the environment after taking an initial 'snapshot'.</span></span>
   * <span data-ttu-id="03ebe-166">이는 환경의 초기 상태와 긴밀 하 게 연결 되는 사용자가 만든 데이터의 중단을 방지 하는 데 적합할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-166">This may be appropriate to avoid disruption of user-created data that is tightly coupled to the initial state of the environment.</span></span>
   * <span data-ttu-id="03ebe-167">이 경우 응용 프로그램은 검색이 완료 된 후 초기 상태에서 공간 매핑 데이터의 복사본을 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-167">In this case, the application should make a copy of the spatial mapping data in its initial state once the scan is complete.</span></span>
   * <span data-ttu-id="03ebe-168">환경에서 holograms를 올바르게 폐색 하는 경우 응용 프로그램은 공간 매핑 데이터에 대 한 업데이트를 계속 수신 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-168">Applications should continue receiving updates to spatial mapping data if holograms are still to be correctly occluded by the environment.</span></span>
   * <span data-ttu-id="03ebe-169">공간 매핑 데이터를 지속적으로 업데이트 하 여 발생 한 모든 변경 내용을 시각화할 수 있으며, 환경의 이전 상태와 현재 상태 간의 차이를 명확 하 게 이해 하기도 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-169">Continued updates to spatial mapping data also allow visualizing any changes that have occurred, clarifying to the user the differences between prior and present states of the environment.</span></span>

* <span data-ttu-id="03ebe-170">**사용자가 시작한 환경의 스냅숏 만들기**</span><span class="sxs-lookup"><span data-stu-id="03ebe-170">**Take user-initiated snapshots of the environment**</span></span>
   * <span data-ttu-id="03ebe-171">응용 프로그램은 사용자가 지시 하는 경우 환경 변경 내용에만 응답할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-171">An application may only wish to respond to environmental changes when instructed by the user.</span></span>
   * <span data-ttu-id="03ebe-172">예를 들어 사용자는 다른 순간에 포즈를 캡처하여 friend의 여러 3D ' 동상 '을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-172">For example, the user could create multiple 3D 'statues' of a friend by capturing their poses at different moments.</span></span>

* <span data-ttu-id="03ebe-173">**사용자가 환경을 변경할 수 있도록 허용**</span><span class="sxs-lookup"><span data-stu-id="03ebe-173">**Allow the user to change the environment**</span></span>
   * <span data-ttu-id="03ebe-174">응용 프로그램은 사용자 환경에서 변경 된 내용에 대해 실시간으로 응답 하도록 디자인 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-174">An application may be designed to respond in real-time to any changes made in the user's environment.</span></span>
   * <span data-ttu-id="03ebe-175">예를 들어 방식을를 그리는 사용자는 다른 쪽에서 발생 하는 holographic play에 대해 ' 장면 변경 '을 트리거할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-175">For example, the user drawing a curtain could trigger 'scene change' for a holographic play taking place on the other side.</span></span>

* <span data-ttu-id="03ebe-176">**공간 매핑 데이터의 오류를 방지 하기 위해 사용자에 게 안내**</span><span class="sxs-lookup"><span data-stu-id="03ebe-176">**Guide the user to avoid errors in the spatial mapping data**</span></span>
   * <span data-ttu-id="03ebe-177">응용 프로그램에서 환경을 검색 하는 동안 사용자에 게 지침을 제공 하고자 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-177">An application may wish to provide guidance to the user while they are scanning their environment.</span></span>
   * <span data-ttu-id="03ebe-178">이렇게 하면 사용자가 sunlit windows 또는 미러를 사용 하는 등의 방법으로 [공간 매핑 데이터에서](spatial-mapping-design.md#what-influences-spatial-mapping-quality)특정 유형의 오류를 방지할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-178">This can help the user to avoid certain kinds of [errors in the spatial mapping data](spatial-mapping-design.md#what-influences-spatial-mapping-quality), for example by staying away from sunlit windows or mirrors.</span></span>

<span data-ttu-id="03ebe-179">유의 해야 할 추가 정보 중 하나는 공간 매핑 데이터의 ' 범위 '가 제한 되지 않는다는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-179">One additional detail to be aware of is that the 'range' of spatial mapping data is not unlimited.</span></span> <span data-ttu-id="03ebe-180">공간 매핑에서 큰 공간의 영구 데이터베이스를 작성 하는 동안 사용자가 제한 된 크기의 ' 거품형 ' 인 응용 프로그램에서 해당 데이터를 사용할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-180">Whilst spatial mapping does build a permanent database of large spaces, it only makes that data available to applications in a 'bubble' of limited size around the user.</span></span> <span data-ttu-id="03ebe-181">따라서 긴 어느의 시작 부분에서 시작 하 여 시작 부분에서 멀리 떨어진 곳에서 시작 하는 경우 결국 공간 서피스가 다시 시작 부분에서 사라집니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-181">Thus if you start at the beginning of a long corridor and walk far enough away from the start, then eventually the spatial surfaces back at the beginning will disappear.</span></span> <span data-ttu-id="03ebe-182">물론 사용 가능한 공간 매핑 데이터에서 사라진 후에 응용 프로그램에서 해당 표면을 캐싱하여이를 완화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-182">You can of course mitigate this by caching those surfaces in your application after they have disappeared from the available spatial mapping data.</span></span>

## <a name="mesh-processing"></a><span data-ttu-id="03ebe-183">메시 처리</span><span class="sxs-lookup"><span data-stu-id="03ebe-183">Mesh processing</span></span>

<span data-ttu-id="03ebe-184">이를 통해 표면에서 일반적인 오류 유형을 검색 하 고 공간 매핑 데이터를 적절 하 게 필터링, 제거 또는 수정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-184">It may help to detect common types of errors in surfaces and to filter, remove or modify the spatial mapping data as appropriate.</span></span>

<span data-ttu-id="03ebe-185">공간 매핑 데이터는 실제 표면에 최대한 적합 되도록 하기 위한 것 이므로, 모든 처리를 통해 ' 참 '에서 화면을 이동 하는 위험을 적용 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-185">Bear in mind that spatial mapping data is intended to be as faithful as possible to real-world surfaces, so any processing you apply risks shifting your surfaces further from the 'truth'.</span></span>

<span data-ttu-id="03ebe-186">다음은 유용 하 게 사용할 수 있는 여러 유형의 메시 처리에 대 한 몇 가지 예입니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-186">Here are some examples of different types of mesh processing that you may find useful:</span></span>

* <span data-ttu-id="03ebe-187">**구멍 채우기**</span><span class="sxs-lookup"><span data-stu-id="03ebe-187">**Hole filling**</span></span>
   * <span data-ttu-id="03ebe-188">어두운 재질의 작은 개체가 스캔 되지 않으면 주변 화면에 구멍이 남습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-188">If a small object made of a dark material fails to scan, it will leave a hole in the surrounding surface.</span></span>
   * <span data-ttu-id="03ebe-189">구멍은 폐색에 영향을 줍니다. holograms은 임의의 불투명 실제 표면에서 ' ~ ' 구멍을 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-189">Holes affect occlusion: holograms can be seen 'through' a hole in a supposedly opaque real-world surface.</span></span>
   * <span data-ttu-id="03ebe-190">결함은 raycasts에 영향을 줍니다. raycasts를 사용 하 여 사용자가 서피스와 상호 작용 하는 데 도움이 되는 경우 이러한 광선을 통해 구멍이 전달 되는 것이 바람직하지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-190">Holes affect raycasts: if you are using raycasts to help users interact with surfaces, it may be undesirable for these rays to pass through holes.</span></span> <span data-ttu-id="03ebe-191">한 가지 완화 방법은 적절 한 크기의 영역을 포함 하는 여러 raycasts 번들을 사용 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-191">One mitigation is to use a bundle of multiple raycasts covering an appropriately sized region.</span></span> <span data-ttu-id="03ebe-192">이를 통해 ' 이상 값 ' 결과를 필터링 할 수 있습니다 .이 경우 한 가지 raycast가 작은 구멍을 통과 하더라도 집계 결과는 계속 유효 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-192">This will allow you to filter 'outlier' results, so that even if one raycast passes through a small hole, the aggregate result will still be valid.</span></span> <span data-ttu-id="03ebe-193">그러나이 방법은 계산 비용으로 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-193">However, be aware that this approach comes at a computational cost.</span></span>
   * <span data-ttu-id="03ebe-194">구멍은 물리학 충돌에 영향을 줍니다. 물리학 시뮬레이션으로 제어 되는 개체는 바닥의 구멍을 통해 삭제 되 고 손실 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-194">Holes affect physics collisions: an object controlled by physics simulation may drop through a hole in the floor and become lost.</span></span>
   * <span data-ttu-id="03ebe-195">표면 메시에서 이러한 구멍을 알고리즘 방식으로 채울 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-195">It is possible to algorithmically fill such holes in the surface mesh.</span></span> <span data-ttu-id="03ebe-196">그러나 windows 및 doorways 같은 ' 실제 구멍 '이 채워지지 않도록 알고리즘을 조정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-196">However, you will need to tune your algorithm so that 'real holes' such as windows and doorways do not get filled in.</span></span> <span data-ttu-id="03ebe-197">' 실제 구멍 '을 ' 허수 구멍 '과 안정적으로 구분 하는 것이 어려울 수 있으므로 ' 크기 ' 및 ' 경계 모양 '과 같은 다른 추론을 사용해 보아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-197">It can be difficult to reliably differentiate 'real holes' from 'imaginary holes', so you will need to experiment with different heuristics such as 'size' and 'boundary shape'.</span></span>

* <span data-ttu-id="03ebe-198">**Hallucination 제거**</span><span class="sxs-lookup"><span data-stu-id="03ebe-198">**Hallucination removal**</span></span>
   * <span data-ttu-id="03ebe-199">반사, 밝은 조명 및 개체 이동은 약간의 느린 ' hallucinations ' 부동을 중간에 벗어날 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-199">Reflections, bright lights and moving objects can leave small lingering 'hallucinations' floating in mid-air.</span></span>
   * <span data-ttu-id="03ebe-200">Hallucinations에 영향을 주는 폐색: Hallucinations는 및 occluding 다른 holograms의 앞으로 이동 하는 짙은 모양으로 표시 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-200">Hallucinations affect occlusion: hallucinations may become visible as dark shapes moving in front of and occluding other holograms.</span></span>
   * <span data-ttu-id="03ebe-201">Hallucinations는 raycasts에 영향을 줍니다. raycasts를 사용 하 여 사용자가 서피스와 상호 작용할 수 있도록 하는 경우 이러한 광선은 그 뒤의 표면 대신 hallucination에 도달할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-201">Hallucinations affect raycasts: if you are using raycasts to help users interact with surfaces, these rays could hit a hallucination instead of the surface behind it.</span></span> <span data-ttu-id="03ebe-202">구멍에서와 마찬가지로 한 가지 완화는 단일 raycasts 대신 많은 raycasts를 사용 하는 것 이지만, 다시이 경우 계산 비용이 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-202">As with holes, one mitigation is to use many raycasts instead of a single raycast, but again this will come at a computational cost.</span></span>
   * <span data-ttu-id="03ebe-203">Hallucinations는 물리학 충돌에 영향을 줍니다. 물리학 시뮬레이션에 의해 제어 되는 개체는 hallucination에 대해 중지 될 수 있으며, 빈 영역을 통해 이동할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-203">Hallucinations affect physics collisions: an object controlled by physics simulation may become stuck against a hallucination and be unable to move through a seemingly clear area of space.</span></span>
   * <span data-ttu-id="03ebe-204">Surface 메시에서 이러한 hallucinations를 필터링 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-204">It is possible to filter such hallucinations from the surface mesh.</span></span> <span data-ttu-id="03ebe-205">그러나 구멍을 사용 하는 것 처럼 램프와 도어 핸들 같은 실제 소형 개체가 제거 되지 않도록 알고리즘을 조정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-205">However, as with holes, you will need to tune your algorithm so that real small objects such as lamp-stands and door handles do not get removed.</span></span>

* <span data-ttu-id="03ebe-206">**매끄러움**</span><span class="sxs-lookup"><span data-stu-id="03ebe-206">**Smoothing**</span></span>
   * <span data-ttu-id="03ebe-207">공간 매핑은 실제 요소와 비교 하 여 황삭 또는 ' 잡음 '으로 표시 되는 표면을 반환할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-207">Spatial mapping may return surfaces that appear to be rough or 'noisy' in comparison to their real-world counterparts.</span></span>
   * <span data-ttu-id="03ebe-208">다듬기는 물리학 충돌에 영향을 줍니다. 바닥이 거칠게 되 면 실제로 시뮬레이션 된 golf 공이 직선으로이를 통해 원활 하 게 롤오버 되지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-208">Smoothness affects physics collisions: if the floor is rough, a physically simulated golf ball may not roll smoothly across it in a straight line.</span></span>
   * <span data-ttu-id="03ebe-209">다듬기는 렌더링에 영향을 줍니다. 표면이 직접 시각화 되는 경우 대략적인 표면 법선은 해당 모양에 영향을 줄 수 있으며 ' 정리 ' 모양을 방해 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-209">Smoothness affects rendering: if a surface is visualized directly, rough surface normals can affect its appearance and disrupt a 'clean' look.</span></span> <span data-ttu-id="03ebe-210">화면을 렌더링 하는 데 사용 되는 셰이더에 적절 한 조명 및 질감을 사용 하 여이를 완화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-210">It is possible to mitigate this by using appropriate lighting and textures in the shader that is used to render the surface.</span></span>
   * <span data-ttu-id="03ebe-211">표면 메시에서 황삭을 매끄럽게 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-211">It is possible to smooth out roughness in a surface mesh.</span></span> <span data-ttu-id="03ebe-212">그러나이로 인해 해당 하는 실제 화면에서 화면을 벗어날 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-212">However, this may push the surface further away from the corresponding real-world surface.</span></span> <span data-ttu-id="03ebe-213">근접 한 일치를 유지 하는 것은 정확한 홀로그램 폐색을 생성 하 고 사용자가 holographic 서피스와 정확 하 고 예측 가능한 상호 작용을 달성할 수 있도록 하는 데 중요 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-213">Maintaining a close correspondence is important to produce accurate hologram occlusion, and to enable users to achieve precise and predictable interactions with holographic surfaces.</span></span>
   * <span data-ttu-id="03ebe-214">코스메틱 변경만 필요한 경우 꼭 짓 점 위치를 변경 하지 않고 꼭 짓 점 법선을 사용 하는 것이 충분할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-214">If only a cosmetic change is required, it may be sufficient to smooth vertex normals without changing vertex positions.</span></span>

* <span data-ttu-id="03ebe-215">**평면 찾기**</span><span class="sxs-lookup"><span data-stu-id="03ebe-215">**Plane finding**</span></span>
   * <span data-ttu-id="03ebe-216">응용 프로그램이 공간 매핑에서 제공 된 표면에서 수행 하려는 많은 형태의 분석이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-216">There are many forms of analysis that an application may wish to perform on the surfaces provided by spatial mapping.</span></span>
   * <span data-ttu-id="03ebe-217">간단한 한 가지 예는 ' 평면 찾기 '입니다. 경계, 주로 표면의 평면 영역을 식별 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-217">One simple example is 'plane finding'; identifying bounded, mostly-planar regions of surfaces.</span></span>
   * <span data-ttu-id="03ebe-218">평면 지역은 응용 프로그램에서 holographic 콘텐츠를 자동으로 배치할 수 있는 holographic 작업 영역으로 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-218">Planar regions can be used as holographic work-surfaces, regions where holographic content can be automatically placed by the application.</span></span>
   * <span data-ttu-id="03ebe-219">평면 지역은 사용자 인터페이스를 제한할 수 있으므로 사용자가 요구 사항에 가장 적합 한 서피스와 상호 작용 하도록 안내 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-219">Planar regions can constrain the user interface, to guide users to interact with the surfaces that best suit their needs.</span></span>
   * <span data-ttu-id="03ebe-220">평면 영역을 실제 세계와 같이 사용 하 여 LCD 화면, 테이블 또는 화이트 보드와 같은 기능 개체에 대 한 holographic 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-220">Planar regions can be used as in the real world, for holographic counterparts to functional objects such as LCD screens, tables or whiteboards.</span></span>
   * <span data-ttu-id="03ebe-221">평면 지역은 플레이 영역을 정의 하 여 비디오 게임 수준의 기준을 형성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-221">Planar regions can define play areas, forming the basis of videogame levels.</span></span>
   * <span data-ttu-id="03ebe-222">평면 지역은 실제 사람들이 살펴볼 가능성이 높은 영역을 식별 하 여 가상 에이전트가 실제 세계를 탐색 하는 데 도움이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-222">Planar regions can aid virtual agents to navigate the real world, by identifying the areas of floor that real people are likely to walk on.</span></span>

## <a name="prototyping-and-debugging"></a><span data-ttu-id="03ebe-223">프로토타입 및 디버깅</span><span class="sxs-lookup"><span data-stu-id="03ebe-223">Prototyping and debugging</span></span>

### <a name="useful-tools"></a><span data-ttu-id="03ebe-224">유용한 도구</span><span class="sxs-lookup"><span data-stu-id="03ebe-224">Useful tools</span></span>
* <span data-ttu-id="03ebe-225">[Hololens 에뮬레이터](using-the-hololens-emulator.md) 는 실제 hololens에 액세스 하지 않고 공간 매핑을 사용 하 여 응용 프로그램을 개발 하는 데 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-225">The [HoloLens emulator](using-the-hololens-emulator.md) can be used to develop applications using spatial mapping without access to a physical HoloLens.</span></span> <span data-ttu-id="03ebe-226">이를 통해 HoloLens 동작, 공간 좌표계 및 공간 매핑 메시를 비롯 하 여 응용 프로그램에서 일반적으로 사용 하는 모든 데이터를 사용 하 여 실제 환경에서 HoloLens의 라이브 세션을 시뮬레이션할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-226">It allows you to simulate a live session on a HoloLens in a realistic environment, with all of the data your application would normally consume, including HoloLens motion, spatial coordinate systems and spatial mapping meshes.</span></span> <span data-ttu-id="03ebe-227">이는 문제를 디버깅 하 고 코드에 대 한 변경 사항을 평가 하는 데 유용할 수 있는 안정적이 고 반복 가능한 입력을 제공 하는 데 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-227">This can be used to provide reliable, repeatable input, which can be useful for debugging problems and evaluating changes to your code.</span></span>
* <span data-ttu-id="03ebe-228">시나리오를 재현 하려면 라이브 HoloLens에서 네트워크를 통해 공간 매핑 데이터를 캡처한 다음 디스크에 저장 하 고 후속 디버깅 세션에서 다시 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-228">To reproduce a scenarios, capture spatial mapping data over the network from a live HoloLens, then save it to disk and reuse it in subsequent debugging sessions.</span></span>
* <span data-ttu-id="03ebe-229">[Windows 장치 포털 3d 보기](using-the-windows-device-portal.md#3d-view) 에서는 공간 매핑 시스템을 통해 현재 사용할 수 있는 모든 공간 표면을 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-229">The [Windows device portal 3D view](using-the-windows-device-portal.md#3d-view) provides a way to see all of the spatial surfaces currently available via the spatial mapping system.</span></span> <span data-ttu-id="03ebe-230">이는 응용 프로그램 내부의 공간 표면의 비교를 기반으로 합니다. 예를 들어 공간 서피스가 누락 되었거나 잘못 된 장소에 표시 되는지 쉽게 알 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-230">This provides a basis of comparison for the spatial surfaces inside your application; for example you can easily tell if any spatial surfaces are missing or are being displayed in the wrong place.</span></span>

### <a name="general-prototyping-guidance"></a><span data-ttu-id="03ebe-231">일반 프로토타입 지침</span><span class="sxs-lookup"><span data-stu-id="03ebe-231">General prototyping guidance</span></span>
* <span data-ttu-id="03ebe-232">공간 매핑 데이터의 [오류](spatial-mapping-design.md#what-influences-spatial-mapping-quality) 는 사용자의 환경에 크게 영향을 줄 수 있으므로 다양 한 환경에서 응용 프로그램을 테스트 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-232">Because [errors](spatial-mapping-design.md#what-influences-spatial-mapping-quality) in the spatial mapping data may strongly affect your user's experience, we recommend that you test your application in a wide variety of environments.</span></span>
* <span data-ttu-id="03ebe-233">동일한 위치 (예: 책상)에서 항상 테스트를 시작 하는 습관을 제공 하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="03ebe-233">Don't get trapped in the habit of always testing in the same location, for example at your desk.</span></span> <span data-ttu-id="03ebe-234">다양 한 위치, 도형, 크기 및 재질의 여러 표면에서 테스트 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-234">Make sure to test on various surfaces of different positions, shapes, sizes and materials.</span></span>
* <span data-ttu-id="03ebe-235">이와 유사 하 게, 가상 또는 기록 된 데이터는 디버깅에 유용할 수 있지만, 동일한 테스트 사례에는 의존 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-235">Similarly, while synthetic or recorded data can be useful for debugging, don't become too reliant upon the same few test cases.</span></span> <span data-ttu-id="03ebe-236">이렇게 하면 더 다양 한 테스트에서 이전에 발견 한 중요 한 문제 찾기가 지연 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-236">This may delay finding important issues that more varied testing would have caught earlier.</span></span>
* <span data-ttu-id="03ebe-237">실제로 수행 하는 것과 동일한 방식으로 HoloLens 또는 응용 프로그램을 사용 하지 않을 수 있기 때문에 실제 (coached) 사용자를 사용 하 여 테스트를 수행 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-237">It is a good idea to perform testing with real (and ideally un-coached) users, because they may not use the HoloLens or your application in exactly the same way that you do.</span></span> <span data-ttu-id="03ebe-238">사실, 사용자의 행동, 지식 및 가정이 어떻게 달라질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03ebe-238">In fact, it may surprise you how divergent people's behavior, knowledge and assumptions can be!</span></span>

## <a name="see-also"></a><span data-ttu-id="03ebe-239">참조</span><span class="sxs-lookup"><span data-stu-id="03ebe-239">See also</span></span>
* [<span data-ttu-id="03ebe-240">실내 스캔 시각화</span><span class="sxs-lookup"><span data-stu-id="03ebe-240">Room scan visualization</span></span>](room-scan-visualization.md)
* [<span data-ttu-id="03ebe-241">공간 음향 디자인</span><span class="sxs-lookup"><span data-stu-id="03ebe-241">Spatial sound design</span></span>](spatial-sound-design.md)
* [<span data-ttu-id="03ebe-242">Unity의 지속성</span><span class="sxs-lookup"><span data-stu-id="03ebe-242">Persistence in Unity</span></span>](persistence-in-unity.md)
