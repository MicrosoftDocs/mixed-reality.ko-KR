---
title: 홀로그램 안정성
description: HoloLens는 자동으로 안정화 holograms 지만, 개발자가 홀로그램의 안정성을 향상 시키기 위해 수행할 수 있는 단계가 있습니다.
author: thetuvix
ms.author: alexturn
ms.date: 03/21/2018
ms.topic: article
keywords: holograms, 안정성, hololens
ms.openlocfilehash: b35b904e3c662c5ebd0670a98044706fe208e348
ms.sourcegitcommit: c20563b8195c0c374a927b96708d958b127ffc8f
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/21/2019
ms.locfileid: "65974934"
---
# <a name="hologram-stability"></a>홀로그램 안정성

안정적인 holograms을 얻기 위해 HoloLens에는 기본 제공 이미지 안정화 파이프라인이 있습니다. 안정화 파이프라인은 백그라운드에서 자동으로 작동 하므로이를 사용 하도록 설정 하는 데 필요한 추가 단계가 없습니다. 그러나 개발자는 홀로그램 안정성을 개선 하 고 안정성을 낮추는 시나리오를 방지 하는 기술을 실행 해야 합니다.

## <a name="hologram-quality-terminology"></a>홀로그램 품질 용어

Holograms의 품질은 좋은 환경 및 좋은 앱 개발의 결과입니다. HoloLens에서 주변을 추적할 수 있는 환경에서 초당 일정 한 60 프레임을 적중 하는 앱은 홀로그램 및 일치 하는 좌표계가 동기화 되도록 합니다. 사용자의 관점에서 고정 될 holograms는 환경에 상대적으로 이동 하지 않습니다.

환경 문제, 일치 하지 않거나 낮은 렌더링 요금 또는 기타 앱 문제로 표시 되는 경우 문제를 파악 하는 데 도움이 되는 용어는 다음과 같습니다.
* **높아집니다.** 홀로그램은 전 세계에 있고 실제 세계에 배치 된 후에는 사용자 동작 또는 소규모 및 스파스 환경 변경에 관계 없이 주변 환경에 비해 배치 된 위치를 유지 해야 합니다. 나중에 홀로그램이 예기치 않은 위치에 표시 되는 경우에는 *정확도* 문제가 됩니다. 이러한 시나리오는 서로 다른 두 개의 대화방을 동일한 경우에 발생할 수 있습니다.
* **지터.** 사용자는이를 홀로그램의 빈도가 높은 핸드쉐이킹로 관찰 합니다. 이는 환경의 추적이 저하 될 때 발생할 수 있습니다. 사용자의 경우 솔루션에서 [센서 튜닝](sensor-tuning.md)을 실행 합니다.
* **Judder.** 렌더링 빈도가 낮으면 holograms의 두 배가 아닌 동작 및 이중 이미지가 생성 됩니다. 이는 holograms에서 특히 눈에 띄게 드러납니다. 개발자는 [상수 60 FPS](hologram-stability.md#frame-rate)를 유지 해야 합니다.
* **드리프트.** 사용자는 홀로그램이 원래 위치에서 벗어나 이동 하는 것을 볼 수 있습니다. 이는 특히 전체 매핑되지 않은 환경에서 holograms [공간 앵커](spatial-anchors.md)에서 멀리 배치 될 때 발생 합니다. 공간 앵커로 holograms 가까이를 만들면 드리프트의 가능성이 낮아집니다.
* **Jumpiness.** 홀로그램에서 "pop" 또는 "점프"를 때때로 위치에서 멀리 떨어져 있는 경우입니다. 이는 추적 holograms 사용자 환경의 업데이트 된 이해와 일치 하도록 조정 되는 경우에 발생할 수 있습니다.
* **스윔.** 홀로그램이 사용자 헤드의 동작에 해당 하는 sway에 표시 되는 경우 이는 holograms가 [안정화 평면](hologram-stability.md#stabilization-plane)에 있지 않고 현재 사용자에 대해 HoloLens가 [보정](calibration.md) 되지 않은 경우에 발생 합니다. 사용자가 [보정](calibration.md) 응용 프로그램을 다시 실행 하 여이 문제를 해결할 수 있습니다. 개발자는 안정화 평면을 업데이트 하 여 안정성을 향상 시킬 수 있습니다.
* **색 구분** HoloLens에 표시 되는 색은 색 채널이 빨강-녹색-파랑-녹색 (60Hz)으로 깜박이는 색으로 표시 됩니다. 사용자가 눈동자를 사용 하 여 이동 홀로그램을 추적할 때마다 홀로그램의 선행 및 후행 가장자리가 해당 구성 색에서 분리 되어 레인 효과를 생성 합니다. 분리 수준은 홀로그램의 속도에 따라 달라 집니다. 일부 드물게 경우에는 고정 홀로그램을 확인 하는 동안 신속 하 게 이동 하 여 무지개 효과를 얻을 수 있습니다. 이를 *[색 구분](hologram-stability.md#color-separation)* 이라고 합니다.

## <a name="frame-rate"></a>프레임 속도

프레임 비율은 홀로그램의 첫 번째 기둥입니다. Holograms가 전 세계에 표시 될 수 있도록 사용자에 게 제공 되는 각 이미지에는 holograms를 올바른 지점으로 그려야 합니다. 에서 새로 렌더링 되는 각 이미지에 대 한 4 개의 개별 색 필드를 표시 하 고, 60 FPS (초당 프레임)의 사용자 환경을 표시 하는, HoloLens 새로 고침에 대 한 초당 240 번을 표시 합니다. 최상의 환경을 제공 하기 위해 응용 프로그램 개발자는 16 밀리초 마다 운영 체제에 새 이미지를 일관 되 게 제공 하도록 변환 하는 60 FPS를 유지 해야 합니다.

**60 FPS** Holograms를 그려 실제 세계에 있는 것 처럼 보이도록 HoloLens는 사용자의 위치에서 이미지를 렌더링 해야 합니다. 이미지 렌더링 시간이 소요 되기 때문에 HoloLens는 이미지가 표시 될 때 사용자의 헤드가 어떻게 표시 되는지 예측 합니다. 이 예측 알고리즘은 근사값입니다. HoloLens에는 예측 된 헤드 위치와 실제 헤드 위치 간의 불일치를 고려 하 여 렌더링 된 이미지를 조정 하는 하드웨어가 있습니다. 이렇게 하면 사용자에 게 표시 되는 이미지가 올바른 위치에서 렌더링 된 것 처럼 표시 되 고 holograms 느낌이 안정적이 됩니다. 이미지 업데이트는 작은 변경 내용에 가장 잘 작동 하며, 동작 시차 같이 렌더링 된 이미지의 특정 항목을 완전히 수정할 수 없습니다.

60 FPS에서 렌더링 하 여 안정적인 holograms를 만드는 데 도움이 되는 세 가지 작업을 수행 합니다.
1. 사용자에 게 표시 되는 이미지와 이미지 렌더링 사이의 전체 대기 시간을 최소화 합니다. 게임 스레드와 맞춰에서 실행 되는 렌더링 스레드를 사용 하는 엔진에서 30FPS로 실행 하면 추가 대기 시간이 33.3 밀리초가 될 수 있습니다. 대기 시간을 줄이면 예측 오류가 줄어들고 홀로그램 안정성이 증가 합니다.
2. 이렇게 하면 사용자의 눈에 도달 하는 모든 이미지의 대기 시간이 일정 하 게 유지 됩니다. 30fps에서 렌더링 하는 경우 디스플레이는 여전히 60 FPS의 이미지를 표시 합니다. 즉, 동일한 이미지가 한 행에 두 번 표시 됩니다. 두 번째 프레임의 대기 시간은 첫 번째 프레임 보다 16.6 밀리초이 고 보다 분명 하 게 오류를 해결 해야 합니다. 이러한 오류 크기 불일치로 인해 원치 않는 60hz judder 발생할 수 있습니다.
3. 불균형 동작 및 이중 이미지를 특징으로 하는 judder의 모양을 줄입니다. 더 빠른 홀로그램 동작 및 낮은 렌더링 속도는 더 많은 발음에 judder 연결 됩니다. 따라서 항상 60 FPS를 유지 관리 웹사이트 지정 된 이동 홀로그램의 judder을 방지 하는 데 도움이 됩니다.

**프레임 수준 일관성** 프레임 률 일관성은 초당 높은 프레임 수 만큼 중요 합니다. 때때로 드롭된 프레임은 모든 콘텐츠가 풍부한 응용 프로그램에서 피할 수 있으며, HoloLens는 간헐적으로 발생 하는 결함 으로부터 복구 하는 몇 가지 복잡 한 알고리즘을 구현 합니다. 그러나 지속적으로 변동 된 프레임 속도는 더 낮은 프레임 속도에서 지속적으로 실행 하는 것 보다 훨씬 더 두드러집니다. 예를 들어 5 개 프레임 (이 5 프레임의 기간 동안 60 FPS)에 대해 원활 하 게 렌더링 한 후 다음 10 개 프레임에 대 한 다른 모든 프레임을 삭제 하는 응용 프로그램 (이 10 개 프레임의 기간에 대해 30FPS)은 일관 되 게 작동 하는 응용 프로그램 보다 불안정 하 게 표시 됩니다. 30 FPS로 렌더링 합니다.

[혼합 현실 캡처가](mixed-reality-capture.md) 실행 되는 경우 관련 정보에서 운영 체제는 응용 프로그램을 30 fps로 제한 합니다.

**성능 분석** 응용 프로그램 프레임 요금을 벤치 마크 하는 데 사용할 수 있는 다양 한 도구는 다음과 같습니다.
* GPUView
* Visual Studio 그래픽 디버거
* Unity와 같은 3D 엔진에 기본 제공 되는 프로파일러

## <a name="hologram-render-distances"></a>홀로그램 렌더링 거리

>[!VIDEO https://www.youtube.com/embed/-606oZKLa_s]

휴먼 시각적 시스템은 고정 되어 있고 개체에 초점을 맞춘 경우 여러 거리 종속 신호를 통합 합니다.
* [숙박](https://en.wikipedia.org/wiki/Accommodation_%28eye%29) -개별 눈에 집중 하는 것입니다.
* [수렴](https://en.wikipedia.org/wiki/Convergence_(eye)) -개체의 가운데 안쪽 또는 바깥쪽으로 이동 하는 두 가지 눈입니다.
* [쌍안경 모양 비전은](https://en.wikipedia.org/wiki/Stereopsis) 고정 지점과 개체의 거리에 따라 좌우 되는 왼쪽 및 오른쪽 이미지 사이를 Disparities 합니다.
* 음영, 상대 각도 크기 및 기타 monocular (단일 눈) 큐입니다.

수렴 및 설비는 다른 거리에서 눈에 잘 지는 것과 관련 된 별도의 망막 큐 이기 때문에 고유 합니다. 자연스럽 게 볼 때 수렴 및 설비는 연결 됩니다. 눈에 근접 하는 경우 (예: 코) 눈에 가까운 점 들이 교차 하 고 수용 하 고 있습니다. 눈이 무한대로 표시 되 면 눈이 평행이 되 고 눈이 무한대로 떨어질 수 있습니다. Hololens를 사용 하는 사용자는 대부분 2.0 m이 사용자 로부터 떨어져 있는 광학 거리에 고정 되어 있으므로이 이미지를 유지 하려면 항상 2.0 m에 적용 됩니다. 앱 개발자는 다양 한 깊이에서 콘텐츠 및 holograms를 배치 하 여 사용자의 눈이 수렴 하는 위치를 제어 합니다. 사용자가 다른 거리를 수용 하 고 다른 거리를 수렴 하면 두 큐 간의 자연 스러운 연결이 끊어지고 특히 충돌 크기가 discomfort 경우에 따라 visual 또는 피로가 발생할 수 있습니다. 사용자가 가능한 한 2.0 m 이상으로 수렴 하는 콘텐츠를 유지 하 여 vergence 충돌의 Discomfort을 방지 하거나 최소화할 수 있습니다 (즉, 가능한 경우 2.0 m 근처에서 관심 영역을 많이 사용 하는 장면에서). 콘텐츠를 2.0 m 근처에 배치할 수 없는 경우, vergence-accomodation 충돌은 사용자가 서로 다른 거리 간에 discomfort 때 가장 큽니다. 즉, 시간이 지남에 따라 이동 하거나 멀리 이동 하는 홀로그램 50cm을 확인 하는 것 보다 50cm이 유지 되는 고정 홀로그램을 살펴보는 것이 훨씬 더 편안 합니다.

또한 2.0 m에 콘텐츠를 배치 하는 것은이 거리에서 완전히 겹치도록 디자인 되었기 때문에 유용 합니다. 이 평면에 배치 된 이미지의 경우 holographic 프레임의 측면에서 벗어나 이동 하는 동안에는 한 디스플레이에서 사라집니다. 이 쌍안경 모양 rivalry는 홀로그램의 깊이 인식에 방해가 될 수 있습니다.

**사용자 로부터 holograms를 배치 하는 데 가장 적합 한 거리**

![사용자 로부터 holograms를 배치 하는 데 가장 적합 한 거리](images/distanceguiderendering-750px.png)

**클립 평면** 편안 함을 최대화 하려면 1m에서 시작 하 여 콘텐츠를 fadeout으로 85cm에서 렌더링 거리를 클리핑 하는 것이 좋습니다. Holograms 및 사용자가 모두 고정 holograms 된 응용 프로그램에서는 50cm 근처에서 편안 하 게 볼 수 있습니다. 이러한 경우, 응용 프로그램은 클립 평면을 30cm 보다 더 가까운 위치에 배치 하지 않고 페이드 아웃을 실행 해야 합니다. 콘텐츠가 85cm 보다 더 가까운 경우에는 사용자가 holograms에서 자주 이동 하거나 더 이상 이동 하지 않도록 하는 것이 중요 합니다. 이러한 상황이 발생 하면 vergence 충돌. 콘텐츠는 사용자의 85cm 보다 더 가깝게 상호 작용 해야 하는 필요성을 최소화 하도록 설계 되어야 하지만 85cm 보다 더 가깝게 콘텐츠를 렌더링 해야 하는 경우 개발자에 게 좋은 방법으로는 사용자 및/또는 holograms이 25% 이상의 깊이에서 이동 하지 않는 시나리오를 설계 하는 것이 좋습니다. 시간.

모범 **사례** 2m에 holograms을 배치할 수 없고 수렴 및 범위 간 충돌을 방지할 수 없는 경우 가장 적합 한 영역 배치는 1.25 m과 5m 사이입니다. 모든 경우에서 디자이너는 콘텐츠 크기 및 기본 배치 매개 변수를 조정 하는 것과 같이 사용자가 1 + m 자리를 상호 작용할 수 있도록 콘텐츠를 구조화 해야 합니다.

## <a name="stabilization-plane"></a>안정화 평면
> [!NOTE]
> 데스크톱 몰입 형 헤드셋의 경우 안정화 평면을 설정 하는 것은 일반적으로 시스템에 앱의 깊이 버퍼를 제공 하는 것 보다 시각적 품질을 높여 픽셀 수준의 깊이 기반 다시 프로젝션을 사용 하도록 설정 하는 것 보다 시각적 품질을 높일 수 있습니다. HoloLens에서 실행 하지 않는 한 일반적으로 안정화 평면을 설정 하지 않아야 합니다.

HoloLens는 정교한 하드웨어 지원 holographic 안정화 기법을 수행 합니다. 이는 대부분 자동 이며, 장면에 애니메이션을 적용 하 고 사용자가 헤드를 이동할 때 CameraPose (시점 관점)의 동작과 변경 해야 합니다. 이 안정화를 최대화 하기 위해 안정화 평면 이라고 하는 단일 평면을 선택 합니다. 장면의 모든 holograms는 안정화를 수신 하지만 안정화 평면의 holograms는 최대 하드웨어 안정화를 수신 합니다.

![3D 개체의 안정화 평면](images/stab-plane-500px.jpg)

장치는이 평면을 자동으로 선택 하려고 하지만, 응용 프로그램은 장면의 포커스 지점을 선택 하 여이 프로세스를 지원할 수 있습니다. HoloLens에서 실행 되는 Unity 앱은 장면에 따라 가장 적합 한 포커스 지점을 선택 하 고 [SetFocusPoint ()](focus-point-in-unity.md)에 전달 해야 합니다. DirectX에서 포커스 지점을 설정 하는 예는 기본 회전 큐브 템플릿에 포함 되어 있습니다.

Unity 앱이 데스크톱 PC에 연결 된 몰입 형 헤드셋에서 실행 되는 경우 Unity는 픽셀 단위 다시 프로젝션을 사용 하도록 깊이 버퍼를 Windows에 제출 합니다 .이는 일반적으로 앱에서 명시적인 작업을 수행 하지 않고 훨씬 더 나은 이미지 품질을 제공 합니다. 포커스 지점을 제공 하면 픽셀 단위 다시 프로젝션이 재정의 되므로 앱이 HoloLens에서 실행 중일 때만이 작업을 수행 해야 합니다.




```cs
// SetFocusPoint informs the system about a specific point in your scene to
// prioritize for image stabilization. The focus point is set independently
// for each holographic camera.
// You should set the focus point near the content that the user is looking at.
// In this example, we put the focus point at the center of the sample hologram,
// since that is the only hologram available for the user to focus on.
// You can also set the relative velocity and facing of that content; the sample
// hologram is at a fixed point so we only need to indicate its position.
renderingParameters.SetFocusPoint(
    currentCoordinateSystem,
    spinningCubeRenderer.Position
    );
```

포커스 지점의 배치는 현재 홀로그램에서 볼 때 주로 다릅니다. 앱에는 참조용 벡터와 앱 디자이너가 사용자에 게 관찰 하려는 콘텐츠를 알고 있습니다.

개발자가 안정화 하기 위해 수행할 수 있는 가장 중요 한 점은 60 FPS에서 렌더링 하는 것입니다. 60 FPS 미만으로 떨어지면 안정화 평면 최적화에 관계 없이 홀로그램의 안정성을 크게 줄일 수 있습니다.

모범 **사례** 안정화 평면을 설정 하는 방법은 없지만 앱 마다 다릅니다. 따라서 시나리오에 가장 적합 한 것을 실험 하 고 확인 하는 것이 좋습니다. 그러나이 평면의 모든 콘텐츠가 완벽 하 게 안정화 되기 때문에 최대한 많은 콘텐츠로 안정화 평면을 정렬 하려고 합니다.

이는 아래와 같이 함수의 반환값을 데이터 프레임으로 바로 변환하는 데 사용할 수 있음을 나타냅니다.
* 평면 콘텐츠 (앱 읽기, 비디오 재생 앱)만 있는 경우 콘텐츠를 포함 하는 평면과 안정화 평면을 맞춥니다.
* 세계에서 잠긴 3 개의 작은 분기가 있는 경우 현재 사용자의 보기에 있는 모든 구 중심으로 안정화 평면을 "잘라내기"로 만듭니다.
* 장면에 상당히 다른 깊이 있는 콘텐츠가 있는 경우에는 더 많은 개체를 선호 합니다.
* 사용자가 보고 있는 홀로그램과 일치 하도록 모든 프레임의 안정화 지점을 조정 해야 합니다.

**피해 야 할 사항** 안정화 평면은 안정적인 holograms를 실현 하는 훌륭한 도구 이지만 잘못 사용할 경우 이미지가 불안정 해질 수 있습니다.
* 사용자의 안정화 평면이 나 더 이상 사용자의 뷰에서 더 이상 사용 되지 않는 개체에 연결 될 수 있으므로 "실행 후 제거"를 사용 하지 마세요. 안정화 평면 법선이 반대 방향 카메라-앞으로 설정 되어 있는지 확인 합니다 (예:-camera).
* 극단 간에 안정화 평면을 앞뒤로 빠르게 변경 하지 마십시오.
* 안정화 평면을 고정 거리/방향으로 설정 하지 마세요.
* 사용자가 안정화 평면을 사용 하지 않도록 합니다.
* HoloLens가 아닌 데스크톱 PC에서 실행 하는 경우 포커스 지점을 설정 하지 말고, 대신 픽셀 수준 깊이 기반 재 프로젝션을 사용 합니다.

## <a name="color-separation"></a>색 구분 

HoloLens의 특성으로 인해 "색 구분" 이라는 아티팩트가 인식 될 수 있습니다. 개별 기본 색 (빨강, 녹색 및 파랑)으로 구분 되는 이미지로 매니페스트 됩니다. 흰색 개체는 빨강, 녹색 및 파랑의 양이 많기 때문에 흰색 개체를 표시할 때 특히 아티팩트를 표시할 수 있습니다. 사용자가 holographic 프레임을 통해 고속으로 이동 하는 홀로그램을 시각적으로 추적할 때 가장 많이 나타납니다. 아티팩트가 매니페스트 할 수 있는 다른 방법은 개체의 휘기/변형입니다. 개체에 고대비 및/또는 순수한 색 (빨강, 녹색, 파랑)이 있으면 색 구분이 개체의 서로 다른 부분에 대 한 휘기로 인식 됩니다.

**사용자가 자신의 머리를 면으로 회전 하는 것 처럼 head-잠긴 흰색 라운드 커서의 색 구분이 어떻게 표시 될 수 있는지에 대 한 예입니다.**

![사용자가 자신의 머리를 면으로 회전 하는 것 처럼 헤드 잠긴 흰색 라운드 커서의 색 구분이 어떻게 표시 될 수 있는지에 대 한 예입니다.](images/colorseparationofroundwhitecursor-300px.png)

색 분리를 완전히 피하는 것이 어렵기는 하지만이를 완화 하는 데 사용할 수 있는 몇 가지 기술이 있습니다.

**색 구분은 다음에 표시 될 수 있습니다.**
* [커서](cursors.md)와 같은 헤드가 잠긴 개체를 포함 하 여 빠르게 이동 하는 개체입니다.
* [안정화 평면과](hologram-stability.md#stabilization-plane)크게 떨어져 있는 개체입니다.

**색 구분의 영향을 경우:**
* 개체가 사용자의 응시로 지연 되도록 합니다. 일부 관성이 있고 응시 "스프링"에 연결 된 것 처럼 표시 됩니다. 이렇게 하면 커서의 속도가 느려지고 (분리 거리가 감소) 사용자의 응시 지점 뒤에 배치 됩니다. 즉, 사용자가 응시를 중지 하는 경우 신속 하 게 포착 한다면 매우 자연스럽 게 작동 합니다.
* 홀로그램을 이동 하려면 사용자가 눈에 따라 이동 하는 것으로 예상 되는 경우 이동 속도를 5도 이하로 유지 하세요.
* 커서에 기 하 *도형* 대신 *라이트* 를 사용 합니다. 응시에 연결 된 가상 조명 원본은 대화형 포인터로 인식 되지만 색 구분이 발생 하지 않습니다.
* 사용자가 gazing에 있는 holograms 일치 하도록 안정화 평면을 조정 합니다.
* 개체를 빨간색, 녹색 또는 파란색으로 만듭니다.
* 콘텐츠를 흐린 버전으로 전환 합니다. 예를 들어, 둥근 흰색 커서는 동작 방향을 중심으로 약간 흐리게 된 선으로 변경 될 수 있습니다.

이전과 마찬가지로 60 FPS에서 렌더링 하 고 안정화 평면을 설정 하는 것은 홀로그램 안정성을 위한 가장 중요 한 기술입니다. 눈에 띄는 색 분리를 사용 하는 경우 먼저 프레임 속도에 기대를 충족 하는지 확인 합니다.

## <a name="see-also"></a>참조
* [혼합 현실 성능 이해](understanding-performance-for-mixed-reality.md)
* [색, 광원 및 재질](color,-light-and-materials.md)
* [Instinctual 상호 작용](interaction-fundamentals.md)